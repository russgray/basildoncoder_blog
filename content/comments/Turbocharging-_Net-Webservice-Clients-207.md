post_id: Turbocharging-_Net-Webservice-Clients
Author: russ
Date: 2008-09-11 17:22:27
Author_Email: noreply@blogger.com
Author_IP: None

Glyn,<br /><br />I&#39;m actually not sure what&#39;s going on there - the same thing is now happening to me, but I can&#39;t figure out why. I think it&#39;s something at Betfair&#39;s end - if I use the little python lib I cooked up, and switch on detailed tracing, I see this (headers only):<br /><br />POST /global/v3/BFGlobalService HTTP/1.1<br />Host: api.betfair.com:443<br />Content-Length: 960<br />SOAPAction: urn:getEvents<br />Content-Type: text/xml<br />Accept-Encoding: gzip<br />User-Agent: pybetfair/0.4alpha<br /><br />HTTP/1.1 200 OK<br />header: Server: Apache-Coyote/1.1<br />header: Date: Thu, 11 Sep 2008 16:12:56 GMT<br />header: Server: TME-GLUE/5.0.2<br />header: Content-Type: text/xml;charset=UTF-8<br />header: ntCoent-Length: 19715<br />header: Cache-Control: private<br />header: Content-Encoding: gzip<br />header: Content-Length:       1498<br /><br />So Betfair&#39;s servers definitely have compression switched on. It looks like it&#39;s doing something weird with the headers (the jumbled ntCoent-Length header contains the uncompressed size of the response), but the data is undoubtedly compressed, and correctly represented in the Content-Length header. Weird. I&#39;ll see if I can find out what&#39;s going on.<br /><br />BTW, when using gzip, I believe only the response is compressed, not the request.
